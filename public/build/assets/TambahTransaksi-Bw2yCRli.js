import{T as L,l as b,k as P,o as r,h,a as t,w as C,c as n,e as u,d as g,u as s,F as x,r as _,t as l,m as w,v as y,g as F,j as M,i as N}from"./app-DKZ8G0wy.js";import{_ as D}from"./LayoutUtama-Oz-7BHcF.js";const S={class:"max-w-2xl"},U={class:"bg-white/10 backdrop-blur-sm rounded-xl border border-white/20 p-6"},j=["value"],q={key:0,class:"text-red-400 text-sm mt-1"},E=["value"],I={key:0,class:"text-red-400 text-sm mt-1"},K={key:0,class:"text-red-400 text-sm mt-1"},R={key:0,class:"bg-blue-500/20 rounded-lg p-4"},A={class:"text-white"},H={class:"text-2xl font-bold"},J={key:0,class:"text-sm text-white/80 mt-1"},O={class:"flex items-center space-x-4"},$=["disabled"],z={key:0},G={key:1},X={__name:"TambahTransaksi",props:{daftarPelanggan:Array,daftarKategoriLayanan:Array,errors:Object},setup(o){const v=o,{data:i,post:T,processing:p}=L({id_pelanggan:"",id_kategori_layanan:"",berat_kg:"",catatan:""}),m=b(()=>v.daftarKategoriLayanan.find(d=>d.id==i.id_kategori_layanan)),f=b(()=>!m.value||!i.berat_kg?0:m.value.harga_per_kg*parseFloat(i.berat_kg)),B=b(()=>{var d;return((d=m.value)==null?void 0:d.estimasi_hari)||0}),c=()=>{},k=d=>new Intl.NumberFormat("id-ID").format(d),V=()=>{T(route("transaksi.store"))};return(d,e)=>(r(),P(D,{"judul-halaman":"Tambah Transaksi","deskripsi-halaman":"Buat transaksi laundry baru"},{default:h(()=>[t("div",S,[t("div",U,[t("form",{onSubmit:C(V,["prevent"]),class:"space-y-6"},[t("div",null,[e[5]||(e[5]=t("label",{for:"id_pelanggan",class:"block text-sm font-medium text-white mb-2"},"Pelanggan",-1)),g(t("select",{id:"id_pelanggan","onUpdate:modelValue":e[0]||(e[0]=a=>s(i).id_pelanggan=a),required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"},[e[4]||(e[4]=t("option",{value:""},"Pilih Pelanggan",-1)),(r(!0),n(x,null,_(o.daftarPelanggan,a=>(r(),n("option",{key:a.id,value:a.id},l(a.nama)+" - "+l(a.email),9,j))),128))],512),[[w,s(i).id_pelanggan]]),o.errors.id_pelanggan?(r(),n("div",q,l(o.errors.id_pelanggan),1)):u("",!0)]),t("div",null,[e[7]||(e[7]=t("label",{for:"id_kategori_layanan",class:"block text-sm font-medium text-white mb-2"},"Jenis Layanan",-1)),g(t("select",{id:"id_kategori_layanan","onUpdate:modelValue":e[1]||(e[1]=a=>s(i).id_kategori_layanan=a),required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:c},[e[6]||(e[6]=t("option",{value:""},"Pilih Layanan",-1)),(r(!0),n(x,null,_(o.daftarKategoriLayanan,a=>(r(),n("option",{key:a.id,value:a.id},l(a.nama_kategori)+" - Rp "+l(k(a.harga_per_kg))+"/kg ",9,E))),128))],544),[[w,s(i).id_kategori_layanan]]),o.errors.id_kategori_layanan?(r(),n("div",I,l(o.errors.id_kategori_layanan),1)):u("",!0)]),t("div",null,[e[8]||(e[8]=t("label",{for:"berat_kg",class:"block text-sm font-medium text-white mb-2"},"Berat (kg)",-1)),g(t("input",{id:"berat_kg","onUpdate:modelValue":e[2]||(e[2]=a=>s(i).berat_kg=a),type:"number",step:"0.1",min:"0.1",required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan berat cucian",onInput:c},null,544),[[y,s(i).berat_kg]]),o.errors.berat_kg?(r(),n("div",K,l(o.errors.berat_kg),1)):u("",!0)]),f.value>0?(r(),n("div",R,[t("div",A,[e[9]||(e[9]=t("h4",{class:"font-medium mb-2"},"Estimasi Biaya:",-1)),t("p",H,"Rp "+l(k(f.value)),1),m.value?(r(),n("p",J," Estimasi selesai: "+l(B.value)+" hari ",1)):u("",!0)])])):u("",!0),t("div",null,[e[10]||(e[10]=t("label",{for:"catatan",class:"block text-sm font-medium text-white mb-2"},"Catatan",-1)),g(t("textarea",{id:"catatan","onUpdate:modelValue":e[3]||(e[3]=a=>s(i).catatan=a),rows:"3",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Catatan tambahan (opsional)"},null,512),[[y,s(i).catatan]])]),t("div",O,[t("button",{type:"submit",disabled:s(p),class:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200"},[s(p)?(r(),n("span",z,"Menyimpan...")):(r(),n("span",G,"Simpan Transaksi"))],8,$),F(s(M),{href:d.route("transaksi.index"),class:"bg-white/10 hover:bg-white/20 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200"},{default:h(()=>[...e[11]||(e[11]=[N(" Batal ",-1)])]),_:1},8,["href"])])],32)])])]),_:1}))}};export{X as default};
